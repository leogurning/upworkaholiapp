<div class="container">
    <div *ngIf="loading" class="loading-indicator">
        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
      </div>
  <div class="limiter-pagecontent">
    <!-- <div class="container-login100" style="background-image: url('images/bg-01.jpg');"> -->
    <div class="container-pagecontent">
        <div class="wrap-pagecontent p-l-55 p-r-55 p-t-65 p-b-54">
            <div class="page-header">
                <h3>Profile</h3>
            </div>
            <form [formGroup]="inputForm" (ngSubmit)="saveProfile(inputForm.value)" class="form-content" novalidate autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false">
              <div style="text-align:center">
                <img src="{{ this.displayImg }}" style="border-radius:50%" width="200" height="200">
              </div>
  
              <div style="text-align:center; margin-top:5px">
                <span *ngIf="this.loading == false" class="btn btn-file">
                    Change Photo <input [disabled]="this.loading == true" type="file" accept="image/*" (change)="fileChangeEvent($event)" name="profilephoto" id="profilephoto" aria-describedby="fileHelp">
                </span>
                <small id="fileHelp" class="form-text" style="color:red;"><sup>* <u>FILE SIZE (MAX {{ +this.maxfilesize /1000000 }} MB)</u></sup></small>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">First Name :</span>
                  <input class="input100" 
                        type="text" 
                        [appDisableControl]="this.loading == true" 
                        id="firstName" 
                        [formControl]="firstName" 
                        placeholder="Your First Name">
                  <span class="focus-input100" data-symbol=""></span>
                </div>
                
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('firstName').dirty && inputForm.get('firstName').invalid">
                  <span>Please input the correct First Name</span>
                </div>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Last Name :</span>
                  <input class="input100" 
                          type="text" 
                          [appDisableControl]="this.loading == true" 
                          id="lastName" 
                          [formControl]="lastName" 
                          placeholder="Your Last Name">
                  <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('lastName').dirty && inputForm.get('lastName').invalid">
                  <span>Please input the correct Last Name</span>
                </div>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Title :</span>
                  <input class="input100" 
                          type="text" 
                          [appDisableControl]="this.loading == true" 
                          id="title" 
                          [formControl]="title" 
                          placeholder="Your Work Title">
                  <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('title').dirty && inputForm.get('title').invalid">
                  <span>Please input the correct Title</span>
                </div>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Summary :</span>
                  <textarea class="input100 textarea" 
                          rows="10"
                          [appDisableControl]="this.loading == true" 
                          id="summary" 
                          [formControl]="summary" 
                          placeholder="Your Profile Summary">
                  </textarea>
                  <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m5 m-b-5" 
                      *ngIf="inputForm.get('summary').dirty && inputForm.get('summary').invalid">
                  <span>Please input the profile Summary</span>
                </div>
              </div>

              <div class="m-b-15">
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Skills :</span>
                  <textarea class="input100 textarea" 
                          rows="10"
                          [appDisableControl]="this.loading == true" 
                          id="skills" 
                          [formControl]="skills" 
                          placeholder="Your Skills, e.g: SCADA, etc...">
                  </textarea>
                  <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m5 m-b-5" 
                      *ngIf="inputForm.get('skills').dirty && inputForm.get('skills').invalid">
                  <span>Please input the your Skills</span>
                </div>
              </div>
              <hr>
              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Address 1 :</span>
                  <input class="input100" 
                          type="text" 
                          [appDisableControl]="this.loading == true" 
                          id="address1" 
                          [formControl]="address1" 
                          placeholder="Your Address Line 1">
                    <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('address1').dirty && inputForm.get('address1').invalid">
                  <span>Please input the correct Address Line 1</span>
                </div>
              </div>

              <div class="wrap-input100 validate-input m-b-15">
                <span class="label-input100">Address 2 :</span>
                <input class="input100" 
                        type="text" 
                        [appDisableControl]="this.loading == true" 
                        id="address2" 
                        [formControl]="address2" 
                        placeholder="Your Address Line 2">
                  <span class="focus-input100" data-symbol=""></span>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">City :</span>
                  <input class="input100" 
                          type="text" 
                          [appDisableControl]="this.loading == true" 
                          id="city" 
                          [formControl]="city" 
                          placeholder="Jakarta Selatan, etc...">
                    <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('city').dirty && inputForm.get('city').invalid">
                  <span>Please input the correct City</span>
                </div>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Province :</span>
                  <input class="input100" 
                          type="text" 
                          [appDisableControl]="this.loading == true" 
                          id="province" 
                          [formControl]="province" 
                          placeholder="DKI Jakarta, etc...">
                    <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('province').dirty && inputForm.get('province').invalid">
                  <span>Please input the correct Province</span>
                </div>
              </div>

              <div>
                <div class="wrap-input100 validate-input m-b-15">
                  <span class="label-input100">Country :</span>
                  <input class="input100" 
                          type="text" 
                          [appDisableControl]="this.loading == true" 
                          id="country" 
                          [formControl]="country" 
                          placeholder="Indonesia...">
                  <span class="focus-input100" data-symbol=""></span>
                </div>
                <div class="text-danger input-warning m-t-m10 m-b-5" 
                      *ngIf="inputForm.get('country').dirty && inputForm.get('country').invalid">
                  <span>Please input the correct Country</span>
                </div>
              </div>

              <div>
                  <div class="wrap-input100 validate-input m-b-15">
                    <span class="label-input100">Contact No :</span>
                    <input class="input100" 
                            type="text" 
                            [appDisableControl]="this.loading == true" 
                            id="contactNo" 
                            [formControl]="contactNo" 
                            placeholder="e.g 0822xxxx10...">
                    <span class="focus-input100" data-symbol=""></span>
                  </div>
                  <div class="text-danger input-warning m-t-m10 m-b-5" 
                        *ngIf="inputForm.get('contactNo').dirty && inputForm.get('contactNo').invalid">
                    <span>Please input the correct Contact No</span>
                  </div>
                </div>

                <div>
                    <div class="wrap-input100 validate-input m-b-15">
                      <span class="label-input100">Languages :</span>
                      <input class="input100" 
                              type="text" 
                              [appDisableControl]="this.loading == true" 
                              id="languages" 
                              [formControl]="languages" 
                              placeholder="English, Bahasa, ...">
                        <span class="focus-input100" data-symbol=""></span>
                    </div>
                    <div class="text-danger input-warning m-t-m10 m-b-5" 
                          *ngIf="inputForm.get('languages').dirty && inputForm.get('languages').invalid">
                      <span>Please input the languages you can speak</span>
                    </div>
                  </div>
                  <hr>
                  <div class="form-group">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" [formControl]="isAvailable" id="isAvailable1" (click)="onIsAvailable($event)" checked>
                      <label class="custom-control-label" for="isAvailable1">Available</label>
                    </div>
                    <br>
                    <div class="form-row">
                        <div *ngIf="showAvailableDate" class="form-group col-md-6">
                            <div class="wrap-input100 validate-input m-b-15">
                              <span class="label-input100">Not available until</span>  
                                <input readonly type="text"
                                    class="input100"
                                    [appDisableControl]="this.loading == true"
                                    [ngClass]="{'is-invalid': isFieldInvalid('availableDate')}"
                                    bsDatepicker [bsConfig]="this.datePickerConfig"
                                    [formControl]="availableDate"
                                    placeholder="Available Date">
                                <span class="focus-input100" data-symbol=""></span>
                            </div>
                            <span class="form-text text-danger" *ngIf="inputForm.get('availableDate').errors?.message || isFieldInvalid('availableDate')">
                                {{ inputForm.get('availableDate').errors?.message || 'Please input the correct Date' }}
                              </span>
                        </div>
                    </div>
                    
                  </div>
              <div>
                <button type="submit" [disabled]="inputForm.invalid || this.loading == true" class="btn btn-primary">Save</button>
                <button type="reset" [disabled]="this.loading == true" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
              </div>
            </form>
        </div>
    </div>
  </div>
</div>
